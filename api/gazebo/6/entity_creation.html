<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="keywords" content="Gazebo Gazebo">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gazebo Gazebo: Entity creation</title>
    <script type="text/javascript" src="https://gazebosim.org/assets/doxygen/dynsections.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <link rel="icon" type="image/x-icon" href="https://gazebosim.org/assets/icon/favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.deep_orange-blue.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
    <link href="https://gazebosim.org/assets/doxygen/doxygen.css" rel="stylesheet" type="text/css">
  </head>
    <script type="text/javascript">
      /* Replace all the "permalink" &#9670;&nbsp; icons with a unicode link
        symbol.*/
      $(document).ready(function() {
        var elems = document.getElementsByClassName("permalink");
        for (var i = 0; i < elems.length; ++i) {
          elems[i].firstChild.innerHTML="&#x1f517;";
          elems[i].firstChild.style.fontSize="18px";
        }
      });
    </script>
  </head>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
    <div class="mdl-layout__drawer mdl-color--grey-100 mdl-color-text--blue-grey-50">
      <header class="mdl-color--grey-100">
        <a href="index.html"><img width="60px" src="https://gazebosim.org/assets/doxygen/gazebo_logo.svg"/></a>
        <h1 class="project_title">Gazebo Gazebo</h1>
        <h2>API Reference</h2>
        <div class="version">
        6.16.0
        </div>
      </header>
      <!-- NOTE: If you add a link to a doxygen generated page, then make
                 sure to update the required_html_fils list in
                 IgnCreateDocs.cmake -->
      <nav class="ign-navigation mdl-navigation">
        <a class="mdl-navigation__link" href="tutorials.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Tutorials</a>
        <a id="class_menu" class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">library_books</i>Classes</a>
        <a id="namespaces_menu"class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">toc</i>Namespaces</a>
        <a class="mdl-navigation__link" href="files.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Files</a>
        <a class="mdl-navigation__link" target="_blank"
           href="http://gazebosim.org">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">launch</i>Gazebo Website</a>
      </nav>
      <!-- classes sub menu -->
      <ul for="class_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link" href="classes.html">Index</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="annotated.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="hierarchy.html">Hierarchy</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions.html">Members: All</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_func.html">Members: Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_vars.html">Members: Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_type.html">Members: Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_enum.html">Members: Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_eval.html">Members: Enumerator</a>
        </li>
      </ul>
      <!-- namespaces sub menu -->
      <ul for="namespaces_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespaces.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers.html">Members</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_func.html">Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_type.html">Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_vars.html">Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_enum.html">Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_eval.html">Enumerator</a>
        </li>
      </ul>
    </div>
    <main class="mdl-layout__content mdl-color--white">
    <div id="top">
<!-- Generated by Doxygen 1.8.17 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Entity creation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This tutorial gives an introduction to Ignition Gazebo's service <code>/world/&lt;world name&gt;/create</code>. This service allows creating entities in the scene such us spheres, lights, etc.</p>
<p>Ignition Gazebo creates many services depending on the plugins that are specified in the SDF. In this case we need to load the <code>UserCommands</code> plugin, which will offer the <code>create</code> service. You can include the <code>UserCommands</code> system plugin including these lines in your SDF:</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">plugin</span></div>
<div class="line">  <span class="keyword">filename</span>=<span class="stringliteral">&quot;ignition-gazebo-user-commands-system&quot;</span></div>
<div class="line">  <span class="keyword">name</span>=<span class="stringliteral">&quot;ignition::gazebo::systems::UserCommands&quot;</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">plugin</span>&gt;</div>
</div><!-- fragment --><p>You can check if this service is available typing:</p>
<p>In one terminal</p>
<div class="fragment"><div class="line">ign gazebo -r -v 4 &lt;your_world&gt;.sdf</div>
</div><!-- fragment --><p>In another terminal, see if the create service is listed:</p>
<div class="fragment"><div class="line">ign service --list</div>
<div class="line">/gazebo/resource_paths/add</div>
<div class="line">/gazebo/resource_paths/get</div>
<div class="line">/gazebo/worlds</div>
<div class="line">/gui/follow</div>
<div class="line">/gui/move_to</div>
<div class="line">/gui/move_to/pose</div>
<div class="line">/gui/record_video</div>
<div class="line">/gui/transform_mode</div>
<div class="line">/gui/view_angle</div>
<div class="line">/marker</div>
<div class="line">/marker/list</div>
<div class="line">/marker_array</div>
<div class="line">/server_control</div>
<div class="line">/world/world_name/control</div>
<div class="line">/world/world_name/create</div>
<div class="line">/world/world_name/create_multiple</div>
<div class="line">/world/world_name/generate_world_sdf</div>
<div class="line">/world/world_name/gui/info</div>
<div class="line">/world/world_name/level/set_performer</div>
<div class="line">/world/world_name/light_config</div>
<div class="line">/world/world_name/playback/control</div>
<div class="line">/world/world_name/remove</div>
<div class="line">/world/world_name/scene/graph</div>
<div class="line">/world/world_name/scene/info</div>
<div class="line">/world/world_name/set_pose</div>
<div class="line">/world/world_name/state</div>
<div class="line">/world/world_name/state_async</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md49"></a>
Factory message</h1>
<p>To create new entities in the world we need to use the <a href="https://ignitionrobotics.org/api/msgs/6.0/classignition_1_1msgs_1_1EntityFactory__V.html">ignition::msgs::EntityFactory</a> message to send a request to the create service. This message allows us to create entities from strings, files, <a href="https://ignitionrobotics.org/api/msgs/6.0/classignition_1_1msgs_1_1Model.html">Models</a>, <a href="https://ignitionrobotics.org/api/msgs/6.0/classignition_1_1msgs_1_1Light.html">Lights</a> or even clone models. This tutorial introduces how to create entities from SDF strings and light messages.</p>
<h2><a class="anchor" id="autotoc_md50"></a>
Insert an entity based on a string</h2>
<p>We will open an empty Ignition Gazebo world, let's start creating a sphere in the world. In the next snippet you can see how to create models based on strings.</p>
<div class="fragment"><div class="line">  <span class="keyword">auto</span> sphereStr = R<span class="stringliteral">&quot;(</span></div>
<div class="line"><span class="stringliteral">    &lt;?xml version=&quot;1.0&quot; ?&gt;</span></div>
<div class="line"><span class="stringliteral">    &lt;sdf version=&#39;1.7&#39;&gt;</span></div>
<div class="line"><span class="stringliteral">      &lt;model name=&#39;sphere&#39;&gt;</span></div>
<div class="line"><span class="stringliteral">        &lt;link name=&#39;link&#39;&gt;</span></div>
<div class="line"><span class="stringliteral">          &lt;pose&gt;0 0 0.5 0 0 0&lt;/pose&gt;</span></div>
<div class="line"><span class="stringliteral">          &lt;visual name=&#39;visual&#39;&gt;</span></div>
<div class="line"><span class="stringliteral">            &lt;geometry&gt;&lt;sphere&gt;&lt;radius&gt;1&lt;/radius&gt;&lt;/sphere&gt;&lt;/geometry&gt;</span></div>
<div class="line"><span class="stringliteral">          &lt;/visual&gt;</span></div>
<div class="line"><span class="stringliteral">          &lt;collision name=&#39;collision&#39;&gt;</span></div>
<div class="line"><span class="stringliteral">            &lt;geometry&gt;&lt;sphere&gt;&lt;radius&gt;1&lt;/radius&gt;&lt;/sphere&gt;&lt;/geometry&gt;</span></div>
<div class="line"><span class="stringliteral">          &lt;/collision&gt;</span></div>
<div class="line"><span class="stringliteral">        &lt;/link&gt;</span></div>
<div class="line"><span class="stringliteral">      &lt;/model&gt;</span></div>
<div class="line"><span class="stringliteral">    &lt;/sdf&gt;)&quot;;</span></div>
</div><!-- fragment --><p> The variable <code>sphereStr</code> contains the SDF of the model that we want to create in the world. In this case we are creating a sphere of 1 meter of radius in the position: <code>x: 0 y: 0 z: 0.5 roll: 0 pitch: 0 yaw: 0</code>.</p>
<p><b>NOTE</b>: You can insert here all kinds of models that can be described using an SDF string.</p>
<p>Then we need to call the service <code>/world/&lt;world_name&gt;/create</code>:</p>
<div class="fragment"><div class="line">  <span class="keywordtype">bool</span> result;</div>
<div class="line">  <a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html">ignition::msgs::EntityFactory</a> req;</div>
<div class="line">  <a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Boolean.html">ignition::msgs::Boolean</a> res;</div>
<div class="line">  req.<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html#aeb25b7e2fe4391e0932380aadfc0fc26">set_sdf</a>(modelStr);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">bool</span> executed = node.Request(<span class="stringliteral">&quot;/world/empty/create&quot;</span>,</div>
<div class="line">            req, timeout, res, result);</div>
<div class="line">  <span class="keywordflow">if</span> (executed)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">if</span> (result)</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Entity was created : [&quot;</span> &lt;&lt; res.<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Boolean.html#a1690a7f43cf5d8818f17a7d72436e19e">data</a>() &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; <a class="codeRef" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Service call failed&quot;</span> &lt;&lt; <a class="codeRef" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    <a class="codeRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;Service call timed out&quot;</span> &lt;&lt; <a class="codeRef" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
</div><!-- fragment --><p> <b>NOTE</b>: By default, if the entity name does not exist then the entity will be created in the world. On the other hand, if that entity name already exists, then nothing will happen. You may see some traces in the console showing this information. There is an option to create a new entity every time that the message is sent by setting <code>allow_renaming</code> to true (you can use the method <code>set_allow_renaming()</code>).</p>
<h2><a class="anchor" id="autotoc_md51"></a>
Insert a light</h2>
<p>To insert a light in the world we have two options:</p>
<ul>
<li>Fill the string inside the <code><a class="elRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html">ignition::msgs::EntityFactory</a></code> message like in the section above.</li>
<li>Fill the field <code>light</code> inside the <code><a class="elRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html">ignition::msgs::EntityFactory</a></code> message.</li>
</ul>
<p>In the following snippet you can see how the light's field is filled.</p>
<div class="fragment"><div class="line">  <a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html">ignition::msgs::EntityFactory</a> entityFactoryRequest;</div>
<div class="line"> </div>
<div class="line">  entityFactoryRequest.<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html#a272bffa0292ef8f59822a4bbea7c6c5c">mutable_light</a>()-&gt;<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#a95be148448b872f4f11dba59384c06ee">set_name</a>(<span class="stringliteral">&quot;point&quot;</span>);</div>
<div class="line">  entityFactoryRequest.<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html#a272bffa0292ef8f59822a4bbea7c6c5c">mutable_light</a>()-&gt;<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#a509f376b3c00177c43ef26a7ee9957c3">set_range</a>(4);</div>
<div class="line">  entityFactoryRequest.<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html#a272bffa0292ef8f59822a4bbea7c6c5c">mutable_light</a>()-&gt;<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#a09a24154e0fd47a3c38dadd9fe4e7737">set_attenuation_linear</a>(0.5);</div>
<div class="line">  entityFactoryRequest.<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html#a272bffa0292ef8f59822a4bbea7c6c5c">mutable_light</a>()-&gt;<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#a401ce2b19121a8ea273480146bb0f8e2">set_attenuation_constant</a>(0.2);</div>
<div class="line">  entityFactoryRequest.<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html#a272bffa0292ef8f59822a4bbea7c6c5c">mutable_light</a>()-&gt;<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#a6f41c711aca4c07cf33afb34cd6c37ad">set_attenuation_quadratic</a>(0.01);</div>
<div class="line">  entityFactoryRequest.<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html#a272bffa0292ef8f59822a4bbea7c6c5c">mutable_light</a>()-&gt;<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#afb2334312984b4e93c4c6862ff213106">set_cast_shadows</a>(<span class="keyword">false</span>);</div>
<div class="line">  entityFactoryRequest.<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html#a272bffa0292ef8f59822a4bbea7c6c5c">mutable_light</a>()-&gt;<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#a839791c3c6a3067767850ae017056f1f">set_type</a>(<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#a4ed589f5a615e161fe940219df7b404c">ignition::msgs::Light::POINT</a>);</div>
<div class="line">  <a class="codeRef" href="https://gazebosim.org/api/msgs/8/namespaceignition_1_1msgs.html#a0d979b98137c7aa1a20a9222ad4d2334">ignition::msgs::Set</a>(</div>
<div class="line">    entityFactoryRequest.<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html#a272bffa0292ef8f59822a4bbea7c6c5c">mutable_light</a>()-&gt;<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#ac84bcafcf30965f9f291140933291740">mutable_direction</a>(),</div>
<div class="line">    <a class="codeRef" href="https://gazebosim.org/api/math/6/classignition_1_1math_1_1Vector3.html">ignition::math::Vector3d</a>(0.5, 0.2, -0.9));</div>
<div class="line">  <a class="codeRef" href="https://gazebosim.org/api/msgs/8/namespaceignition_1_1msgs.html#a0d979b98137c7aa1a20a9222ad4d2334">ignition::msgs::Set</a>(entityFactoryRequest.<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html#a272bffa0292ef8f59822a4bbea7c6c5c">mutable_light</a>()-&gt;<a class="codeRef" href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#aa566530483545d7c5e34f43cb70c7066">mutable_pose</a>(),</div>
<div class="line">    <a class="codeRef" href="https://gazebosim.org/api/math/6/classignition_1_1math_1_1Pose3.html">ignition::math::Pose3d</a>(0.0, 0, 3.0, 0.0, 0.0, 0.0));</div>
</div><!-- fragment --><p> Or we can create an SDF string:</p>
<div class="fragment"><div class="line">  <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> lightStr = <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a>(<span class="stringliteral">&quot;&lt;sdf version=&#39;1.7&#39;&gt;&quot;</span>) +</div>
<div class="line">    <span class="stringliteral">&quot;&lt;light type=&#39;&quot;</span> + light_type + <span class="stringliteral">&quot;&#39; name=&#39;&quot;</span> + name + <span class="stringliteral">&quot;&#39;&gt; &quot;</span> +</div>
<div class="line">      <span class="stringliteral">&quot;&lt;cast_shadows&gt;&quot;</span> + <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(cast_shadows) + <span class="stringliteral">&quot;&lt;/cast_shadows&gt;&quot;</span> +</div>
<div class="line">      <span class="stringliteral">&quot;&lt;pose&gt;&quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(pose.Pos().X()) + <span class="stringliteral">&quot; &quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(pose.Pos().Y()) + <span class="stringliteral">&quot; &quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(pose.Pos().Z()) + <span class="stringliteral">&quot; &quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(pose.Rot().Roll()) + <span class="stringliteral">&quot; &quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(pose.Rot().Pitch()) + <span class="stringliteral">&quot; &quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(pose.Rot().Yaw()) +</div>
<div class="line">      <span class="stringliteral">&quot;&lt;/pose&gt;&quot;</span> +</div>
<div class="line">      <span class="stringliteral">&quot;&lt;diffuse&gt;&quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(diffuse.R()) + <span class="stringliteral">&quot; &quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(diffuse.G()) + <span class="stringliteral">&quot; &quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(diffuse.B()) + <span class="stringliteral">&quot; &quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(diffuse.A()) +</div>
<div class="line">      <span class="stringliteral">&quot;&lt;/diffuse&gt;&quot;</span> +</div>
<div class="line">      <span class="stringliteral">&quot;&lt;specular&gt;&quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(specular.R()) + <span class="stringliteral">&quot; &quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(specular.G()) + <span class="stringliteral">&quot; &quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(specular.B()) + <span class="stringliteral">&quot; &quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(specular.A()) +</div>
<div class="line">      <span class="stringliteral">&quot;&lt;/specular&gt;&quot;</span> +</div>
<div class="line">      <span class="stringliteral">&quot;&lt;attenuation&gt;&quot;</span> +</div>
<div class="line">        <span class="stringliteral">&quot;&lt;range&gt;&quot;</span> + <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(attRange) + <span class="stringliteral">&quot;&lt;/range&gt;&quot;</span> +</div>
<div class="line">        <span class="stringliteral">&quot;&lt;constant&gt;&quot;</span> + <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(attConstant) + <span class="stringliteral">&quot;&lt;/constant&gt;&quot;</span> +</div>
<div class="line">        <span class="stringliteral">&quot;&lt;linear&gt;&quot;</span> + <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(attLinear) +   <span class="stringliteral">&quot;&lt;/linear&gt;&quot;</span> +</div>
<div class="line">        <span class="stringliteral">&quot;&lt;quadratic&gt;&quot;</span> + <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(attQuadratic) + <span class="stringliteral">&quot;&lt;/quadratic&gt;&quot;</span> +</div>
<div class="line">      <span class="stringliteral">&quot;&lt;/attenuation&gt;&quot;</span> +</div>
<div class="line">      <span class="stringliteral">&quot;&lt;direction&gt;&quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(direction.X()) + <span class="stringliteral">&quot; &quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(direction.Y()) + <span class="stringliteral">&quot; &quot;</span> +</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(direction.Z()) +</div>
<div class="line">      <span class="stringliteral">&quot;&lt;/direction&gt;&quot;</span> +</div>
<div class="line">      <span class="stringliteral">&quot;&lt;spot&gt;&quot;</span> +</div>
<div class="line">        <span class="stringliteral">&quot;&lt;inner_angle&gt;&quot;</span> + <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(spot_inner_angle) + <span class="stringliteral">&quot;&lt;/inner_angle&gt;&quot;</span> +</div>
<div class="line">        <span class="stringliteral">&quot;&lt;outer_angle&gt;&quot;</span> + <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(spot_outer_angle) + <span class="stringliteral">&quot;&lt;/outer_angle&gt;&quot;</span> +</div>
<div class="line">        <span class="stringliteral">&quot;&lt;falloff&gt;&quot;</span> + <a class="codeRef" href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a>(spot_falloff) + <span class="stringliteral">&quot;&lt;/falloff&gt;&quot;</span> +</div>
<div class="line">      <span class="stringliteral">&quot;&lt;/spot&gt;&quot;</span> +</div>
<div class="line">    <span class="stringliteral">&quot;&lt;/light&gt;&lt;/sdf&gt;&quot;</span>;</div>
</div><!-- fragment --><p> Please check the API to know which fields are available in the <a href="https://ignitionrobotics.org/api/msgs/6.2/classignition_1_1msgs_1_1Light.html">Light message</a>. There are three types of lights: Point, Directional and Spot.</p>
<p>Finally we should call the same service <code>/world/&lt;world_name&gt;/create</code>:</p>
<div class="fragment"><div class="line">  <span class="keywordtype">bool</span> executedEntityFactory = node.Request(<span class="stringliteral">&quot;/world/empty/create&quot;</span>,</div>
<div class="line">        entityFactoryRequest, timeout, rep, result);</div>
<div class="line">  <span class="keywordflow">if</span> (executedEntityFactory)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">if</span> (result)</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Light was created : [&quot;</span> &lt;&lt; rep.data() &lt;&lt; <span class="stringliteral">&quot;]&quot;</span> &lt;&lt; <a class="codeRef" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">      <a class="codeRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Service call failed&quot;</span> &lt;&lt; <a class="codeRef" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">    <a class="codeRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;Service call timed out&quot;</span> &lt;&lt; <a class="codeRef" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
</div><!-- fragment --></div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="aclassignition_1_1math_1_1Pose3_html"><div class="ttname"><a href="https://gazebosim.org/api/math/6/classignition_1_1math_1_1Pose3.html">ignition::math::Pose3</a></div></div>
<div class="ttc" id="abasic_string_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a></div><div class="ttdoc">STL class.</div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1Light_html_a6f41c711aca4c07cf33afb34cd6c37ad"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#a6f41c711aca4c07cf33afb34cd6c37ad">ignition::msgs::Light::set_attenuation_quadratic</a></div><div class="ttdeci">void set_attenuation_quadratic(float value)</div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1Light_html_a95be148448b872f4f11dba59384c06ee"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#a95be148448b872f4f11dba59384c06ee">ignition::msgs::Light::set_name</a></div><div class="ttdeci">void set_name(const ::std::string &amp;value)</div></div>
<div class="ttc" id="anamespaceignition_1_1msgs_html_a0d979b98137c7aa1a20a9222ad4d2334"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/namespaceignition_1_1msgs.html#a0d979b98137c7aa1a20a9222ad4d2334">ignition::msgs::Set</a></div><div class="ttdeci">void Set(msgs::AxisAlignedBox *_b, const math::AxisAlignedBox &amp;_v)</div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1Boolean_html_a1690a7f43cf5d8818f17a7d72436e19e"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Boolean.html#a1690a7f43cf5d8818f17a7d72436e19e">ignition::msgs::Boolean::data</a></div><div class="ttdeci">bool data() const</div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1Light_html_ac84bcafcf30965f9f291140933291740"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#ac84bcafcf30965f9f291140933291740">ignition::msgs::Light::mutable_direction</a></div><div class="ttdeci">::ignition::msgs::Vector3d * mutable_direction()</div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1Light_html_afb2334312984b4e93c4c6862ff213106"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#afb2334312984b4e93c4c6862ff213106">ignition::msgs::Light::set_cast_shadows</a></div><div class="ttdeci">void set_cast_shadows(bool value)</div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1EntityFactory_html"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html">ignition::msgs::EntityFactory</a></div></div>
<div class="ttc" id="abasic_ostream_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a></div></div>
<div class="ttc" id="ato_string_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/string/basic_string/to_string.html">std::to_string</a></div><div class="ttdeci">T to_string(T... args)</div></div>
<div class="ttc" id="aclassignition_1_1math_1_1Vector3_html"><div class="ttname"><a href="https://gazebosim.org/api/math/6/classignition_1_1math_1_1Vector3.html">ignition::math::Vector3</a></div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1Boolean_html"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Boolean.html">ignition::msgs::Boolean</a></div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1Light_html_a09a24154e0fd47a3c38dadd9fe4e7737"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#a09a24154e0fd47a3c38dadd9fe4e7737">ignition::msgs::Light::set_attenuation_linear</a></div><div class="ttdeci">void set_attenuation_linear(float value)</div></div>
<div class="ttc" id="aendl_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a></div><div class="ttdeci">T endl(T... args)</div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1Light_html_a509f376b3c00177c43ef26a7ee9957c3"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#a509f376b3c00177c43ef26a7ee9957c3">ignition::msgs::Light::set_range</a></div><div class="ttdeci">void set_range(float value)</div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1Light_html_a4ed589f5a615e161fe940219df7b404c"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#a4ed589f5a615e161fe940219df7b404c">ignition::msgs::Light::POINT</a></div><div class="ttdeci">static const LightType POINT</div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1Light_html_a401ce2b19121a8ea273480146bb0f8e2"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#a401ce2b19121a8ea273480146bb0f8e2">ignition::msgs::Light::set_attenuation_constant</a></div><div class="ttdeci">void set_attenuation_constant(float value)</div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1Light_html_a839791c3c6a3067767850ae017056f1f"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#a839791c3c6a3067767850ae017056f1f">ignition::msgs::Light::set_type</a></div><div class="ttdeci">void set_type(::ignition::msgs::Light_LightType value)</div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1EntityFactory_html_aeb25b7e2fe4391e0932380aadfc0fc26"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html#aeb25b7e2fe4391e0932380aadfc0fc26">ignition::msgs::EntityFactory::set_sdf</a></div><div class="ttdeci">void set_sdf(const ::std::string &amp;value)</div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1EntityFactory_html_a272bffa0292ef8f59822a4bbea7c6c5c"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1EntityFactory.html#a272bffa0292ef8f59822a4bbea7c6c5c">ignition::msgs::EntityFactory::mutable_light</a></div><div class="ttdeci">::ignition::msgs::Light * mutable_light()</div></div>
<div class="ttc" id="aclassignition_1_1msgs_1_1Light_html_aa566530483545d7c5e34f43cb70c7066"><div class="ttname"><a href="https://gazebosim.org/api/msgs/8/classignition_1_1msgs_1_1Light.html#aa566530483545d7c5e34f43cb70c7066">ignition::msgs::Light::mutable_pose</a></div><div class="ttdeci">::ignition::msgs::Pose * mutable_pose()</div></div>
      </div>
    </main>
  </div>
</body>
